<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tutor Dashboard | Tutify</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">

</head>

<body>
    <header>
        <h1>ğŸ‘¨â€ğŸ« Tutify Tutor Dashboard</h1>
        <p>Manage your students and sessions</p>
    </header>

    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">...</div>
                <div>
                    <strong id="userName">Loading...</strong>
                    <p style="margin: 5px 0 0 0; font-size: 0.85em; color: var(--text-secondary-day);" id="userRole">
                        Tutor Account</p>
                </div>
            </div>

            <h3>Navigation</h3>
            <nav>
                <a href="#" onclick="showSection('dashboard')" class="active" id="nav-dashboard">ğŸ“Š Dashboard</a>
                <a href="#" onclick="showSection('bookings')" id="nav-bookings">ğŸ“… Session Bookings</a>
                <a href="#" onclick="showSection('students')" id="nav-students">ğŸ‘¥ My Students</a>
                <a href="#" onclick="showSection('settings')" id="nav-settings">âš™ï¸ Settings</a>
            </nav>

            <button class="logout-btn" onclick="logout()">ğŸšª Logout</button>
        </aside>

        <main class="main-content">
            <div class="profile-section">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">T</div>
                    <div class="profile-info">
                        <h2 id="tutorName">Dr. Sarah Johnson</h2>
                        <p style="color: var(--text-secondary-day); margin-bottom: 10px;">Mathematics Expert | 10 years
                            experience</p>
                        <p style="font-size: 0.9em;">â­ 4.8 Rating | 150 Sessions Completed</p>
                        <div class="profile-badges">
                            <span class="badge">ğŸ“ Mathematics</span>
                            <span class="badge">ğŸ“Š Statistics</span>
                            <span class="badge">ğŸ”¬ Calculus</span>
                        </div>
                    </div>
                </div>
                <button class="edit-profile-btn" onclick="editProfile()">âœï¸ Edit Profile</button>
            </div>

            <!-- DASHBOARD SECTION -->
            <section id="dashboard-section">
                <h2>Dashboard Overview</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <p>ğŸ‘¥ Total Students</p>
                        <h2 id="totalStudents">24</h2>
                        <p>Active students</p>
                    </div>
                    <div class="stat-card">
                        <p>ğŸ“š Total Sessions</p>
                        <h2 id="totalSessions">150</h2>
                        <p>Sessions conducted</p>
                    </div>
                    <div class="stat-card">
                        <p>â° This Week</p>
                        <h2 id="weekSessions">8</h2>
                        <p>Scheduled sessions</p>
                    </div>
                    <div class="stat-card">
                        <p>â­ Average Rating</p>
                        <h2 id="avgRating">4.8</h2>
                        <p>Student feedback</p>
                    </div>
                </div>

                <div class="recent-students">
                    <h2>My Students</h2>
                    <div class="student-list" id="studentList">
                        <!-- Students will be loaded here -->
                    </div>
                </div>

                <div class="available-students-section">
                    <h2>ğŸ” Students Looking for a Tutor</h2>
                    <p class="section-subtitle">Students actively seeking help â€” connect with them to grow your reach
                    </p>
                    <div class="available-students-grid" id="availableStudentsList">
                        <!-- Available students loaded here -->
                    </div>
                </div>
            </section>

            <!-- BOOKINGS SECTION -->
            <section id="bookings-section" style="display: none;">
                <h2>Session Bookings</h2>
                <div class="bookings-container">
                    <div class="booking-tabs">
                        <button class="tab-btn active" onclick="showTutorBookingTab('pending', this)">ğŸ“© Requests</button>
                        <button class="tab-btn" onclick="showTutorBookingTab('confirmed', this)">âœ… Confirmed</button>
                        <button class="tab-btn" onclick="showTutorBookingTab('completed', this)">ğŸ“š Completed</button>
                        <button class="tab-btn" onclick="showTutorBookingTab('cancelled', this)">âŒ Cancelled</button>
                    </div>
                    <div class="bookings-list" id="bookings-list">
                        <!-- Bookings will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- SETTINGS SECTION -->
            <section id="settings-section" style="display: none;">
                <h2>Settings</h2>
                <div class="settings-container">
                    <div class="settings-card">
                        <h3>ğŸ‘¤ Profile Information</h3>
                        <div class="setting-item">
                            <label>Full Name</label>
                            <input type="text" class="setting-input" id="settingName" placeholder="Your full name">
                        </div>
                        <div class="setting-item">
                            <label>Specializations</label>
                            <input type="text" class="setting-input" id="settingSpecialties"
                                placeholder="e.g., Mathematics, Science">
                        </div>
                        <div class="setting-item">
                            <label>Bio</label>
                            <textarea class="setting-input" id="settingBio" placeholder="Tell students about yourself"
                                rows="3"></textarea>
                        </div>
                        <div class="setting-item">
                            <label>Hourly Rate ($)</label>
                            <input type="number" class="setting-input" id="settingRate" placeholder="30" min="5">
                        </div>
                        <button class="btn-save" onclick="saveProfileSettings()">ğŸ’¾ Save Profile</button>
                    </div>

                    <div class="settings-card">
                        <h3>ğŸ”’ Change Password</h3>
                        <div class="setting-item">
                            <label>Current Password</label>
                            <input type="password" class="setting-input" id="currentPassword"
                                placeholder="Enter current password">
                        </div>
                        <div class="setting-item">
                            <label>New Password</label>
                            <input type="password" class="setting-input" id="newPassword"
                                placeholder="Enter new password">
                        </div>
                        <div class="setting-item">
                            <label>Confirm Password</label>
                            <input type="password" class="setting-input" id="confirmPassword"
                                placeholder="Confirm new password">
                        </div>
                        <button class="btn-save" onclick="changePassword()">ğŸ” Update Password</button>
                    </div>

                    <div class="settings-card">
                        <h3>ğŸ”” Notification Preferences</h3>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="emailNotifications" checked>
                                Receive email notifications for new bookings
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="reminderNotifications" checked>
                                Send me session reminders 24 hours before
                            </label>
                        </div>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="feedbackNotifications" checked>
                                Notify me of new student feedback
                            </label>
                        </div>
                        <button class="btn-save" onclick="savePreferences()">âœ… Save Preferences</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <footer>
        <p>Â© 2026 Tutify | Tutor Dashboard</p>
    </footer>

    <!-- ===== BOOKING MODAL (Tutor â†’ Student) ===== -->
    <div id="tutorBookingModal" class="modal-overlay" style="display:none;" onclick="if(event.target===this)closeTutorBookingModal()">
        <div class="modal-box">
            <div class="modal-header">
                <h3>ğŸ“… Schedule a Session</h3>
                <button class="modal-close" onclick="closeTutorBookingModal()">âœ•</button>
            </div>
            <form id="tutorBookingForm" onsubmit="submitTutorBooking(event)">
                <div class="modal-body">
                    <div class="modal-field">
                        <label>Student</label>
                        <input type="text" id="tModalStudentName" readonly>
                    </div>
                    <div class="modal-field">
                        <label>Subject *</label>
                        <select id="tModalSubject" required>
                            <option value="">â€” Select subject â€”</option>
                            <option value="Mathematics">ğŸ“ Mathematics</option>
                            <option value="Physics">âš›ï¸ Physics</option>
                            <option value="Chemistry">ğŸ§ª Chemistry</option>
                            <option value="Biology">ğŸ”¬ Biology</option>
                            <option value="English">ğŸ“– English</option>
                            <option value="Computer Science">ğŸ’» Computer Science</option>
                            <option value="History">ğŸ“š History</option>
                            <option value="Statistics">ğŸ“Š Statistics</option>
                        </select>
                    </div>
                    <div class="modal-field">
                        <label>Topic *</label>
                        <input type="text" id="tModalTopic" placeholder="e.g. Quadratic Equations" required>
                    </div>
                    <div class="modal-row">
                        <div class="modal-field">
                            <label>Date *</label>
                            <input type="date" id="tModalDate" required>
                        </div>
                        <div class="modal-field">
                            <label>Time *</label>
                            <input type="time" id="tModalTime" required>
                        </div>
                    </div>
                    <div class="modal-field">
                        <label>Duration</label>
                        <select id="tModalDuration">
                            <option value="1 hour">1 hour</option>
                            <option value="1.5 hours">1.5 hours</option>
                            <option value="2 hours" selected>2 hours</option>
                            <option value="3 hours">3 hours</option>
                        </select>
                    </div>
                    <div class="modal-field">
                        <label>Session Notes (optional)</label>
                        <textarea id="tModalNotes" placeholder="Topics to cover, student level, special instructions..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-modal-cancel" onclick="closeTutorBookingModal()">Cancel</button>
                    <button type="submit" class="btn-modal-confirm">ğŸ“… Schedule Session</button>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/app.js"></script>
    <script>
        window.addEventListener('load', loadTutorDashboard);
    </script>
</body>

</html>